"use strict";(()=>{var e={};e.id=249,e.ids=[249],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9596:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>d,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h});var a={};r.r(a),r.d(a,{POST:()=>u});var s=r(9303),o=r(8716),n=r(670),i=r(7070);async function u(e){let{prompt:t}=await e.json();if(!t||0===t.length)return i.NextResponse.json({message:"Prompt is required"},{status:400});try{let e=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.OPENAI_API_KEY}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:`Write a haiku based on the following 3-word prompt: ${t}`}],max_tokens:60,temperature:.7})}),r=await e.json();if(e.ok)return i.NextResponse.json({haiku:r.choices[0].message.content.trim()},{status:200});return console.error("OpenAI API Error:",r),i.NextResponse.json({message:r.error.message||"Error generating haiku"},{status:e.status})}catch(e){return console.error("Error generating haiku:",e),i.NextResponse.json({message:"Error generating haiku"},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/generate-haiku/route",pathname:"/api/generate-haiku",filename:"route",bundlePath:"app/api/generate-haiku/route"},resolvedPagePath:"/Users/miriamschwartz/_miRi/2024_Hamburg-Coding-School/mitsch-website/mitsch-website/app/api/generate-haiku/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:h,serverHooks:m}=p,g="/api/generate-haiku/route";function d(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,972],()=>r(9596));module.exports=a})();